---
hide: true
---

# 1.1 操作系统的基本概念

## 1.1.1 操作系统的概念

### 是什么

是一种系统软件，是一些程序模块的集合。

### 什么作用

它们能以尽量有效、合理的方式组织和管理计算机的软硬件资源，合理的组织计算机的工作流程，控制程序的执行并向用户提供各种服务功能，使得用户能够灵活、方便、有效的使用计算机，使整个计算机系统能高效地运行。

## 1.1.2 操作系统的特征

### 并发

并发是指两个或多个事件在`同一时间间隔`内发生。比如 1s 内发送 2 个 http 请求  
注意同一时间间隔`（并发）`和同一时刻`（并行）`的区别
`并行`一般是指多核 cpu。因为每个时刻，1 个 cpu 只能有一个程序执行  
`并发`是同一时间间隔发生的，显而易见，这些任务是通过分时交替执行的。

在使用计算机时，我们可以一边听歌，一边写代码，好像它们同时在运行。  
当然这对于多核 cpu 来说不成问题，那么单核 cpu 呢？  
单核 cpu 同时运行多个程序只是我们的一种错觉，实际是 cpu 在多个程序间快速切换，cpu 执行速度非常快，快到我们感受不到它在切换。  
比如动画在我们看来是一直在播放的，但实际上它也是一帧一帧地在切换，只不过超出了人眼分辨帧数的范围，无法察觉而已。

> 人眼不能分辨超过每秒 30 帧的画面

### 共享

共享是指系统中资源可供内存中多个并发执行的进程共同使用

1. 互斥共享方式
   互斥式共享：当进程 A 访问完并释放该资源后，才允许另一个进程对该资源进行访问  
   临界资源：一段时间内只允许一个进程访问的资源（比如打印机、某些变量等）
2. 同时访问方式
   这里的同时通常是宏观上的，在微观上，这些进程可能是交替地对该资源进行访问的（分时共享）。

> 并发和共享是操作系统两个最基本的特征，两者互为存在条件。

### 虚拟

虚拟是指把一个物理上的实体变成若干逻辑上的对应物。  
虚拟处理器技术是通过多道程序设计技术，采用让多道程序并发执行的方法，来分时使用一个处理器。把一个物理上的 CPU 虚拟为多个逻辑上的 CPU，称为虚拟存储器。类似的还有虚拟存储器、虚拟设备等。

### 异步

多道程序环境允许多个进程并发执行，但进程总是以不可预知的速度向前推进，走走停停，这就是进程的异步性

## 1.1.3 操作系统的目标和功能

为了给多道程序提供良好的运行环境，操作系统应具有一下几方面的功能：处理机管理、存储器管理、设备管理和文件管理。为了方便用户使用，还必须向用户提供接口。同时操作系统可用来扩充机器，已提供更方便的服务、更高的资源利用率。

### 作为计算机系统资源的管理者

1. 处理机管理
   也是进程管理。进程何时创建、何时撤销、如何管理、如何避免冲突、合理共享就是进程管理的主要任务。进程管理的主要功能包括进程控制、进程同步、进程通信、死锁处理、处理机调度等。
2. 存储器管理
   主要包括内存分配与回收、地址映射、内存保护与共享和内存扩种等功能。
3. 文件管理
   包括文件存储空间的管理、目录管理及文件读写管理和保护等。
4. 设备管理
   主要包括缓冲管理、设备分配和虚拟设备等功能

### 作为用户与计算机硬件系统之间的接口

1. 命令接口
   联机命令接口：又称交互式命令接口，强调了交互性  
   脱机命令接口：按照命令清单逐条完成，也就是批处理
2. 程序接口
   由一组系统调用（广义指令）组成，使用这些系统调用来请求操作系统提供服务

### 用作扩充机器

没有任何软件支持的计算机成为裸机。操作系统提供的资源管理功能和方便用户的各种服务功能，将裸机改造成功能更强、使用更方便的机器。  
通常把覆盖了软件的机器成为扩充机器或虚拟机

## 习题

1. 计算机开机后，操作系统加载到内存中的系统区，这段区域是 RAM
2. 系统中的缓存全部由操作系统管理，对用户是透明的，操作系统不提供管理系统缓存的系统调用。
3. 说明库函数与系统调用的区别和联系
   库函数是语言或应用程序的一部分，可以运行在用户空间中。  
   而系统调用时操作系统的一部分，是内核为用户提供的程序接口，运行在内核空间中，而且许多库函数都会使用系统调用来实现功能。  
   未使用系统调用的库函数，其指向效率通常要比系统调用高。因为使用系统调用时，需要上下文的切换及状态的转换。
